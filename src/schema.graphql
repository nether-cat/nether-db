# This schema file is only for integration with tools that enable auto-completion and linting.
# Built-in and custom scalars cannot be introspected and thus need to be added manually below.

scalar JSON

scalar Date

scalar DateTime

scalar LocalDateTime

# TODO: This comment and the lines above schould be restored manually after a new schema introspection!

# This file was generated based on ".graphqlconfig" at Sun Apr 21 06:02:13 CEST 2019. Do not edit manually.

interface Authorizable {
  permissions: [Permission]
  uuid: ID!
}

interface Entity {
  uuid: ID!
}

interface Protectable {
  permissions: [Permission]
  protected: Boolean
  uuid: ID!
}

type Attribute implements Entity {
  category(first: Int = 1, offset: Int = 0): [Category]
  description: String
  name: String!
  uuid: ID!
}

type Category implements Entity {
  attributes(first: Int = 100, offset: Int = 0): [Attribute]
  datasets(first: Int = 100, offset: Int = 0): [Dataset]
  description: String
  name: String!
  uuid: ID!
}

type Continent implements Entity {
  "Continent code as defined in the package [countries-list](https://www.npmjs.com/package/countries-list)."
  code: String!
  countries(first: Int = 100, offset: Int = 0): [Country]
  "English continent name as defined in the package [countries-list](https://www.npmjs.com/package/countries-list)."
  name: String!
  uuid: ID!
}

type Core implements Entity {
  ageDepthMethod: String
  comments: String
  composite: Boolean
  coringMethod: String
  datasets(first: Int = 100, offset: Int = 0): [Dataset]
  drillDate: Date
  label: String
  lake(first: Int = 1, offset: Int = 0): [Lake]
  latitude: Float
  longitude: Float
  uuid: ID!
  waterDepth: Float
}

type Country implements Entity {
  "Country code as specified by the standard [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)."
  code: String!
  continents(first: Int = 100, offset: Int = 0): [Continent]
  lakes(first: Int = 100, offset: Int = 0): [Lake]
  "English country name as defined in the package [countries-list](https://www.npmjs.com/package/countries-list)."
  name: String!
  uuid: ID!
}

type Dataset implements Entity {
  ageResolution: Float
  analysisMethod: String
  attributes(first: Int = 100, offset: Int = 0): [Attribute]
  category(first: Int = 1, offset: Int = 0): [Category]
  comments: String
  core(first: Int = 1, offset: Int = 0): [Core]
  depthResolution: Float
  file: String!
  label: String
  publication(first: Int = 1, offset: Int = 0): [Publication]
  records(first: Int = 100, offset: Int = 0): [Record]
  url: String
  uuid: ID!
}

type Group implements Authorizable & Entity {
  members: [Membership]
  name: String!
  permissions: [Permission]
  uuid: ID!
}

type Lake implements Entity {
  catchmentArea: Float
  cores(first: Int = 100, offset: Int = 0): [Core]
  countries(first: Int = 100, offset: Int = 0): [Country]
  latitude: Float!
  longitude: Float!
  maxDepth: Float
  name: String!
  surfaceArea: Float
  surfaceLevel: Float
  uuid: ID!
  waterBodyVolume: Float
}

type Membership {
  from: User!
  moderates: Boolean
  to: Group!
  uuid: ID!
}

type Mutation {
  CreateCountry(code: String!, name: String!, uuid: ID): Country
  DeleteCountry(uuid: ID!): Country
  Login(email: String!, password: Password!): Session!
  Logout: Session!
  Test(_id: ID!, payload: JSON!): JSON
  UpdateCountry(code: String, name: String, uuid: ID!): Country
}

type Permission {
  from: Authorizable!
  level: AccessLevel
  to: Protectable!
  uuid: ID!
}

type Publication implements Entity {
  abstract: String
  authors: String
  datasets(first: Int = 100, offset: Int = 0): [Dataset]
  doi: String
  email: String
  source: String
  title: String!
  url: String
  uuid: ID!
  year: Int
}

type Query {
  Country(_id: String, code: String, first: Int, name: String, offset: Int, orderBy: String, uuid: ID): [Country]
  Lake(_id: String, catchmentArea: Float, first: Int, latitude: Float, longitude: Float, maxDepth: Float, name: String, offset: Int, orderBy: String, surfaceArea: Float, surfaceLevel: Float, uuid: ID, waterBodyVolume: Float): [Lake]
  RecordsByDataset(uuid: ID): [Record]
  Session: Session!
  Test(_id: ID!): [JSON]
}

type Record {
  _id: ID!
  data: JSON!
}

type Session {
  _id: ID!
  expires: Float!
  state: SessionState!
  token: String
  user: String!
  userRole: UserRole!
}

type User implements Authorizable & Entity {
  department: String
  disabled: Boolean!
  email: String!
  firstName: String
  frozen: Boolean!
  institution: String
  lastName: String
  memberships: [Membership]
  password: String!
  permissions: [Permission]
  role: String
  userRole: UserRole!
  uuid: ID!
}

enum AccessLevel {
  EDITOR
  NONE
  OWNER
  VIEWER
}

enum CacheControlScope {
  PRIVATE
  PUBLIC
}

enum SessionState {
  AUTHORIZED
  AUTH_ERROR
  AUTH_EXPIRED
  AUTH_FROZEN
  AUTH_MISMATCH
  AUTH_PENDING
  UNAUTHORIZED
}

enum UserRole {
  ADMIN
  MANAGER
  NONE
  REVIEWER
  USER
}

input Password {
  isHash: Boolean!
  value: String!
}
